<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Twitter Sign In/Sign Up</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <style>
    .sign-up-form,
    .forgot-password-form {
      display: none;
    }
  </style>
  <script>
    $(document).ready(function () {
      $("#signUpBtn").click(function () {
        $(".sign-in-form").hide();
        $(".forgot-password-form").hide();
        $(".sign-up-form").show();
      });

      $("#signInBtn").click(function () {
        $(".sign-up-form").hide();
        $(".forgot-password-form").hide();
        $(".sign-in-form").show();
      });

      $("#forgotPasswordBtn").click(function () {
        $(".sign-in-form").hide();
        $(".sign-up-form").hide();
        $(".forgot-password-form").show();
      });

      $("#returnToSignInBtn").click(function () {
        $(".forgot-password-form").hide();
        $(".sign-in-form").show();
        document.getElementById('forgotPasswordForm').reset();
      });
    });

    function sendResetPasswordEmail() {
      const email = document.getElementById('forgotPasswordEmail').value;
      if (!email) {
        const errorMessageElement = document.getElementById('errorMessage');
        errorMessageElement.textContent = "Please enter your email.";
        const successMessageElement = document.getElementById('successMessage');
        successMessageElement.textContent = '';
        return;
      }

      // Simulate generating a reset password token and storing it in local storage
      const resetPasswordToken = generateResetPasswordToken();
      localStorage.setItem('resetPasswordToken', resetPasswordToken);

      // In a real scenario, you would send the email with the link that includes the reset password token,
      // and the user would click on the link to be redirected to the "Create New Password" and "Confirm Password" screen.
      // For this example, we'll redirect the user directly to the reset password screen after a short delay.
      setTimeout(() => {
        window.location.href = "http://127.0.0.1:3000/scm-final-ui/ResetPassword.html"; // Replace with the actual URL of the reset password screen
      }, 1000);
    }

    function generateResetPasswordToken() {
      // Simulate generating a random reset password token (you would use your own logic here)
      const token = Math.random().toString(36).substr(2) + Math.random().toString(36).substr(2);
      return token;
    }
  </script>
</head>

<body>
  <div class="container">
    <div class="row justify-content-center mt-5">
      <div class="col-lg-4 col-md-6">
        <!-- Sign In Form -->
        <div class="card sign-in-form">
          <div class="card-body">
            <h4 class="card-title text-center">Sign In</h4>
            <form id="signinform">
              <div class="form-group">
                <label for="signInEmail">Email address</label>
                <input type="email" class="form-control" id="email" name="email" placeholder="Enter email">
              </div>
              <div class="form-group">
                <label for="signInPassword">Password</label>
                <input type="password" class="form-control" id="password" name="password" placeholder="Enter password">
              </div>
              <button type="button" class="btn btn-primary btn-block" onclick="signinUser()">Sign In</button>
              <button id="signUpBtn" type="button" class="btn btn-link btn-block mt-2">Create an Account</button>
              <button id="forgotPasswordBtn" type="button" class="btn btn-link btn-block mt-2">Forgot Password?</button>
            </form>
          </div>
        </div>

        <!-- Sign Up Form -->
        <div class="card sign-up-form">
          <div class="card-body">
            <h4 class="card-title text-center">Sign Up</h4>
            <form id="signupform">
              <div class="form-group">
                <label for="signUpName">Name</label>
                <input type="text" class="form-control" name="username" id="username" placeholder="Enter name">
              </div>
              <div class="form-group">
                <label for="signUpEmail">Email address</label>
                <input type="email" class="form-control" name="email" id="email" placeholder="Enter email">
              </div>
              <div class="form-group">
                <label for="signUpPassword">Password</label>
                <input type="password" class="form-control" name="password" id="password" placeholder="Enter password">
              </div>
              <button type="button" class="btn btn-primary btn-block">Sign Up</button>
              <button id="signInBtn" type="button" class="btn btn-link btn-block mt-2">Already have an account? Sign In</button>
            </form>
          </div>
        </div>

        <!-- Forgot Password Form -->
        <div class="card forgot-password-form">
          <div class="card-body">
            <h4 class="card-title text-center">Forgot Password</h4>
            <form id="forgotPasswordForm">
              <div class="form-group">
                <label for="forgotPasswordEmail">Email address</label>
                <input type="email" class="form-control" id="forgotPasswordEmail" placeholder="Enter email">
              </div>
              <button type="button" class="btn btn-primary btn-block" onclick="sendResetPasswordEmail()">Send Reset Password Email</button>
              <button id="returnToSignInBtn" type="button" class="btn btn-link btn-block mt-2">Return to Sign In</button>
            </form>
          </div>
        </div>
      </div>
    </div>
    <!-- Success and Error Message elements (unchanged) -->
  </div>
</body>

</html>
